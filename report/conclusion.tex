\chapter{Conclusion}
\label{chap:conclusion}
In this project I integrated the procedural road generation algorithm described in \cite{roadgen} with the snow simulator developed at the HPC lab at NTNU. I developed a C++ program for finding the trajectory using an A* search, which outputs a RoadXML file that is imported into a third-party tool called SCANeR Studio by Octal. The model from SCANeR, in the Wavefront OBJ format, was then imported as a triangle mesh in the snow simulator for rendering.

Results showed that the generated roads seem to have a natural look, with smooth curves that goes along the contours of the terrain instead of taking the shortest route over steep hills. The terrain was also adjusted using a method where each terrain vertex' y-component is set to the y-component of the closest road vertex; this seem to work well, as the roads seem to match the terrain almost perfectly.

Performance results show that generally, using a slightly lower grid resolution (e.g. half, or one quarter of the resolution of the height map) for the A* search seem to be preferrable because the cost penalty for doing so is small compared to the performance increase. However, it is always a judgement call whether or not a full-resolution search should be performed; in some cases, running time does not matter that much as long as it is "reasonable", while other times, if for instance the road generator is integrated fully with the snow simulator, running time of the road generator matters more. %, which is in the order of 

I also performed tests on using Dijkstra's algorithm instead of an A* search. Results show that for the Mt. St. Helens maps, the speedup was between 2 and 2.31, while the Trondheim and the procedurally generated mountains map showed more modest improvements, due to a more complex terrain. However, they did show a 1.22 and 1.21 times speedup, respectively, which is fairly good given the complex terrain.

Lastly, I presented possible future projects. One of these involved better road generation algorithms that supports waypoints, multiple destinations, hierarchical road networks and influence maps for allowing higher degree of control of how the road trajectory should be laid out. Another project involves using snow depth data from the snow simulator in a cost function for the road generator. Other future potential project include better integration of the road generator with the snow simulator, direct loading of USGS DEM files in the snow simulator and using texture blending for more realistic rendering of the terrain.
